<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deepdown Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-image: url('images/bg_hp.jpg');
            background-size: contain;
            background-position: center top;
            background-repeat: no-repeat;
            overflow-x: hidden;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 50px;
            box-sizing: border-box;
        }
        /* 다른 스타일은 이전과 동일 */
    </style>
</head>
<body>
    <div class="container">
        <!-- HTML 구조는 이전과 동일 -->
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 이전 코드는 그대로 유지

            function setPageSize() {
                const bgImage = new Image();
                bgImage.onload = function() {
                    const aspectRatio = bgImage.width / bgImage.height;
                    const pageWidth = Math.min(window.innerWidth, bgImage.width);
                    const pageHeight = pageWidth / aspectRatio;
                    document.body.style.height = `${pageHeight}px`;
                    document.body.style.backgroundSize = `${pageWidth}px ${pageHeight}px`;
                    
                    // changing-image 크기 조정
                    const changingImage = document.querySelector('.changing-image');
                    const changingImageWidth = Math.min(pageWidth, 1200);
                    const changingImageHeight = changingImageWidth / (bgImage.width / bgImage.height);
                    changingImage.style.width = `${changingImageWidth}px`;
                    changingImage.style.height = `${changingImageHeight}px`;
                }
                bgImage.src = 'images/bg_hp.jpg';
            }

            setPageSize();
            window.addEventListener('resize', setPageSize);

            function animate() {
                const changingImage = document.querySelector('.changing-image');
                const scrollTop = Math.min(window.pageYOffset || document.documentElement.scrollTop, document.body.scrollHeight - window.innerHeight);
                const maxImageOffset = Math.max(0, document.body.scrollHeight - window.innerHeight - changingImage.offsetHeight);
                let imageOffset = Math.min(scrollTop, maxImageOffset);

                let bounce = Date.now() * 0.05;
                const bounceOffset = Math.sin(bounce) * 10;

                changingImage.style.transform = `translateX(-50%) translateY(${imageOffset + bounceOffset}px)`;

                requestAnimationFrame(animate);
            }

            animate();
        });
    </script>
</body>
</html>
